<!DOCTYPE html>
<html>

<head>
  <!-- Configure and load Thebe !-->
  <!-- two config sections: first binder, second local
        switch which one has type="text/x-thebe-config"
        to activate it
      -->
  <script type="text/x-thebe-config">
          {
            requestKernel: true,
            binderOptions: {
              repo: "binder-examples/requirements",
              codeMirrorConfig: {
                "theme": "abcdef"
              },
              savedSession: {
                // if enabled, thebe will store and try to re-use
                // connections (with credentials!) to running servers
                enabled: true,
                maxAge: 86400, // the max age in seconds to consider re-using a session
                storagePrefix: "thebe-binder-",
              }
            },
          }
        </script>
  <!-- use this one (and set the token!) for local testing (much faster)
        e.g.
        jupyter notebook \
          --NotebookApp.token=thebe-test-secret \
          --NotebookApp.allow_origin='http://127.0.0.1:8080'
        -->
  <script type="text/x-thebe-config-disabled">
          {
            requestKernel: true,
            kernelOptions: {
              name: "python3",
              path: ".",
              // notebook server configuration; not needed with binder
              serverSettings: {
                "baseUrl": "http://127.0.0.1:8888",
                "token": "thebe-test-secret",
              },
              savedSession: {
                // if enabled, thebe will store and try to re-use
                // connections (with credentials!) to running servers
                enabled: true,
                maxAge: 86400, // the max age in seconds to consider re-using a session
                storagePrefix: "thebe-binder-",
              }
            },
            codeMirrorConfig: {
              "theme": "abcdef"
            },
          }
        </script>
  <script src="./lib/index.js"></script>
</head>

<body>
  <div class="container">
    <button id="activateButton">Activate</button>
    <script>
      var bootstrapThebe = function () {
        thebelab.bootstrap();
      }

      document.querySelector("#activateButton").addEventListener('click', bootstrapThebe)
    </script>

    <pre data-executable="true" data-language="python" class="pre-element">print("Hello!")</pre>
    <pre data-executable="true" data-language="python" class="pre-element">
from IPython.display import Math
Math("$x = 5$")
            </pre>
    <pre data-executable="true" data-language="python" class="pre-element">from ipywidgets import IntSlider
w = IntSlider(0, 10)
w
            </pre>
  </div>
</body>
<style>
  body {
    margin: 0;
  }

  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  #activateButton {
    width: 130px;
    height: 50px;
    font-size: 1.25em;
    border: 1px solid black;
    border-radius: 5px;
    background-color: lightblue;
    text-transform: uppercase;
  }

  .pre-element {
    width: 50vw;
    height: 20vh;
    border: 2px solid #aaa;
    border-radius: 4px;
    margin-top: 8px;
    margin-bottom: 8px;
  }

  .thebelab-cell {
    width: 50vw;
  }
</style>

</html>